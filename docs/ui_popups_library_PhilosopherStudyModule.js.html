<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Source: ui/popups/library/PhilosopherStudyModule.js</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="";baseURL=(locationPathname=document.location.pathname).substr(0,locationPathname.lastIndexOf("/")+1)</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body data-theme="dark"><div class="sidebar-container"><div class="sidebar" id="sidebar"><a href="/" class="sidebar-title sidebar-title-anchor">LOGOS Documentation</a><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-modules"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-Screens_Library.html">Screens/Library</a></div><div class="sidebar-section-children"><a href="module-Screens_Login.html">Screens/Login</a></div><div class="sidebar-section-children"><a href="module-Screens_Philosophers.html">Screens/Philosophers</a></div><div class="sidebar-section-children"><a href="module-Screens_Play.html">Screens/Play</a></div><div class="sidebar-section-children"><a href="module-Screens_Reels.html">Screens/Reels</a></div><div class="sidebar-section-children"><a href="module-Screens_SchoolMembers.html">Screens/SchoolMembers</a></div><div class="sidebar-section-children"><a href="module-Screens_Schools.html">Screens/Schools</a></div><div class="sidebar-section-children"><a href="module-Screens_Shop.html">Screens/Shop</a></div><div class="sidebar-section-children"><a href="module-Screens_Symposium.html">Screens/Symposium</a></div><div class="sidebar-section-children"><a href="module-Services_Auth.html">Services/Auth</a></div><div class="sidebar-section-children"><a href="module-Services_Database.html">Services/Database</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="Card.html">Card</a></div><div class="sidebar-section-children"><a href="Modal.html">Modal</a></div><div class="sidebar-section-children"><a href="Player.html">Player</a></div><div class="sidebar-section-children"><a href="PopupManager.html">PopupManager</a></div><div class="sidebar-section-children"><a href="Toast.html">Toast</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-namespaces"><div>Namespaces</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="AnimationsModule.html">AnimationsModule</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="EngineModule.html">EngineModule</a></div><div class="sidebar-section-children"><a href="EventsModule.html">EventsModule</a></div><div class="sidebar-section-children"><a href="GameUI.html">GameUI</a></div><div class="sidebar-section-children"><a href="Popups.html">Popups</a></div><div class="sidebar-section-children"><a href="RendererModule.html">RendererModule</a></div><div class="sidebar-section-children"><a href="StateModule.html">StateModule</a></div><div class="sidebar-section-children"><a href="Utils.html">Utils</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#ArenaTimelinePopup">ArenaTimelinePopup</a></div><div class="sidebar-section-children"><a href="global.html#ChestInfoPopup">ChestInfoPopup</a></div><div class="sidebar-section-children"><a href="global.html#ChestRewardsPopup">ChestRewardsPopup</a></div><div class="sidebar-section-children"><a href="global.html#DESKTOP_BREAKPOINT">DESKTOP_BREAKPOINT</a></div><div class="sidebar-section-children"><a href="global.html#FullProfilePopup">FullProfilePopup</a></div><div class="sidebar-section-children"><a href="global.html#LevelXpPopup">LevelXpPopup</a></div><div class="sidebar-section-children"><a href="global.html#PhilosopherDetailsPopup">PhilosopherDetailsPopup</a></div><div class="sidebar-section-children"><a href="global.html#PhilosopherStudyModulePopup">PhilosopherStudyModulePopup</a></div><div class="sidebar-section-children"><a href="global.html#ReelsSettingsPopup">ReelsSettingsPopup</a></div><div class="sidebar-section-children"><a href="global.html#SCHOOLS">SCHOOLS</a></div><div class="sidebar-section-children"><a href="global.html#SettingsPopup">SettingsPopup</a></div><div class="sidebar-section-children"><a href="global.html#TimedChestInfoPopup">TimedChestInfoPopup</a></div><div class="sidebar-section-children"><a href="global.html#handleResize">handleResize</a></div><div class="sidebar-section-children"><a href="global.html#initLayoutManager">initLayoutManager</a></div><div class="sidebar-section-children"><a href="global.html#isDesktopView">isDesktopView</a></div><div class="sidebar-section-children"><a href="global.html#preloadAdjacentImages">preloadAdjacentImages</a></div><div class="sidebar-section-children"><a href="global.html#renderMembers">renderMembers</a></div><div class="sidebar-section-children"><a href="global.html#renderPosts">renderPosts</a></div><div class="sidebar-section-children"><a href="global.html#renderReels">renderReels</a></div><div class="sidebar-section-children"><a href="global.html#setupImageObserver">setupImageObserver</a></div><div class="sidebar-section-children"><a href="global.html#setupReelsObserver">setupReelsObserver</a></div><div class="sidebar-section-children"><a href="global.html#setupZoom">setupZoom</a></div><div class="sidebar-section-children"><a href="global.html#showLikeAnimation">showLikeAnimation</a></div><div class="sidebar-section-children"><a href="global.html#toggleLike">toggleLike</a></div><div class="sidebar-section-children"><a href="global.html#toggleSidebar">toggleSidebar</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"><div class="menu-item navbar-item"><a id="website_link" href="../index.html" target="_blank">Website</a></div></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section id="source-page" class="source-page"><header><h1 id="title" class="has-anchor">ui_popups_library_PhilosopherStudyModule.js</h1></header><article><pre class="prettyprint source lang-js"><code>// PhilosopherStudyModule.js
import { gameState } from '../../../data/gameState.js';
import { PHILOSOPHERS_DATA } from '../../../data/philosophers.js';
import { STUDY_CONTENT_DATA } from '../../../data/study_content.js';

/**
 * Módulo para o popup de estudo aprofundado do filósofo (tela cheia).
 */
export const PhilosopherStudyModulePopup = {
    title: null,

    /**
     * Gera o HTML do conteúdo do popup.
     */
    getHTML: (data) => {
        const philosopherId = data.philosopherId;
        const studyData = STUDY_CONTENT_DATA[philosopherId];
        const philosopher = PHILOSOPHERS_DATA[philosopherId];

        // Lógica de Progresso
        if (!gameState.studyProgress) gameState.studyProgress = {};
        if (!gameState.studyProgress[philosopherId]) gameState.studyProgress[philosopherId] = { pagesViewed: new Set() };
        const progress = gameState.studyProgress[philosopherId];
        const percentage = Math.floor((progress.pagesViewed.size / studyData.totalPages) * 100);

        // --- CSS REFINADO ---
        const css = `
            &lt;style>
                @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&amp;family=Merriweather:ital,wght@0,300;0,400;0,700;1,300&amp;family=Lato:wght@400;700&amp;display=swap');

                /* Reset e Base */
                .study-module-root { 
                    display: flex; flex-direction: column; height: 100%; width: 100%; 
                    background: #fdfbf7; /* Bege muito suave, papel */
                    font-family: 'Lato', sans-serif; 
                    overflow: hidden; 
                    color: #3e2723;
                }

                /* Scrollbar Customizada (Resolve o problema visual da barra cinza) */
                .study-module-root ::-webkit-scrollbar { width: 8px; height: 8px; }
                .study-module-root ::-webkit-scrollbar-track { background: transparent; }
                .study-module-root ::-webkit-scrollbar-thumb { 
                    background-color: #d7ccc8; 
                    border-radius: 10px; 
                    border: 2px solid transparent; 
                    background-clip: content-box; 
                }
                .study-module-root ::-webkit-scrollbar-thumb:hover { background-color: #a1887f; }

                /* Header Elegante */
                .study-header { 
                    background: #fff; 
                    border-bottom: 1px solid #efebe9; 
                    padding: 1rem 2rem; 
                    display: flex; align-items: center; justify-content: space-between; 
                    flex-shrink: 0; z-index: 20;
                    box-shadow: 0 2px 10px rgba(0,0,0,0.02);
                }
                .header-left { display: flex; align-items: center; gap: 15px; }
                .header-avatar { 
                    width: 48px; height: 48px; 
                    border-radius: 50%; object-fit: cover; 
                    border: 2px solid #8d6e63; 
                    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
                }
                .header-title h3 { 
                    margin: 0; color: #3e2723; 
                    font-family: 'Cinzel', serif; /* Fonte clássica para títulos */
                    font-size: 1.2rem; font-weight: 700; 
                }
                .header-xp { 
                    font-size: 0.7rem; color: #fff; 
                    background: #8d6e63; padding: 2px 8px; border-radius: 10px;
                    display: inline-block; margin-top: 4px;
                }

                /* Abas Refinadas */
                .header-tabs { 
                    display: flex; gap: 8px; 
                    background: #f5f5f5; padding: 4px; border-radius: 12px; 
                }
                .tab-btn { 
                    border: none; background: transparent; 
                    padding: 8px 16px; border-radius: 8px; 
                    font-size: 0.85rem; font-weight: 600; 
                    color: #757575; cursor: pointer; transition: all 0.2s ease; 
                }
                .tab-btn:hover { color: #3e2723; background: rgba(0,0,0,0.03); }
                .tab-btn.active { 
                    background: #fff; color: #3e2723; 
                    box-shadow: 0 2px 8px rgba(0,0,0,0.08); 
                    transform: scale(1.02);
                }

                /* Toolbar */
                .study-toolbar { 
                    background: #fff; border-bottom: 1px solid #f0f0f0; 
                    padding: 0.5rem 1rem; height: 50px;
                    display: flex; justify-content: center; align-items: center; gap: 2rem; 
                    flex-shrink: 0; 
                }
                .tool-group { display: flex; align-items: center; gap: 8px; }
                .tool-label { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.5px; color: #9e9e9e; font-weight: bold; margin-right: 5px; }
                .tool-btn { 
                    background: transparent; border: 1px solid #e0e0e0; 
                    width: 32px; height: 32px; border-radius: 6px; 
                    display: flex; align-items: center; justify-content: center; 
                    cursor: pointer; color: #5d4037; transition: 0.2s;
                }
                .tool-btn:hover { background: #efebe9; border-color: #d7ccc8; color: #3e2723; }
                .tool-btn:active { transform: translateY(1px); }

                /* Viewport Principal */
                .study-viewport { flex: 1; position: relative; overflow: hidden; background: #fdfbf7; }
                
                /* Área de Texto (Melhoria de Leitura) */
                .text-scroll-area { 
                    height: 100%; overflow-y: auto; 
                    padding: 0; /* Remove padding do container scrollável para a barra ficar na borda */
                    display: flex; justify-content: center;
                }
                .text-content-wrapper {
                    padding: 3rem 0 5rem 0; /* Remove padding lateral completamente */
                    width: 100%; display: flex; justify-content: center;
                }
                .text-content { 
                    max-width: 100%; /* Largura total sem margens laterais */
                    width: 100%; 
                    background: #fff; 
                    padding: 4rem 0; /* Remove padding lateral, mantém apenas vertical */
                    box-shadow: none; /* Remove sombra para eliminar espaço visual */
                    border-radius: 0;
                    transition: font-size 0.2s ease; 
                    color: #2c2c2c;
                    line-height: 1.8; /* Entrelinha confortável */
                }
                
                /* Tipografia interna do Texto */
                .text-content h1 { font-family: 'Cinzel', serif; color: #3e2723; border-bottom: 2px solid #efebe9; padding: 1rem 2rem; margin: 0 0 1.5rem 0; }
                .text-content h2 { font-family: 'Merriweather', serif; color: #5d4037; margin-top: 2rem; font-size: 1.4em; padding: 0 2rem; }
                .text-content p { margin-bottom: 1.2rem; text-align: justify; padding: 0 2rem; }
                .text-content blockquote { border-left: 4px solid #8d6e63; margin: 1.5rem 2rem; padding-left: 1rem; color: #555; font-style: italic; background: #fafafa; padding: 1rem; }
                .text-content ul, .text-content ol { padding: 0 2rem 0 4rem; margin-bottom: 1.2rem; }
                .text-content li { margin-bottom: 0.5rem; }

                /* Sumário */
                .summary-container {
                    height: 100%; overflow-y: auto;
                    padding: 0rem;
                    background: #fdfbf7;
                }
                .summary-content {
                    max-width: 800px;
                    margin: 0 auto;
                    background: #fff;
                    padding: 2rem;
                    border-radius: 8px;
                    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
                }
                .summary-content h2 {
                    font-family: 'Cinzel', serif;
                    color: #3e2723;
                    margin-bottom: 1.5rem;
                    padding-bottom: 0.5rem;
                    border-bottom: 2px solid #efebe9;
                }
                .summary-list {
                    list-style: none;
                    padding: 0;
                    margin: 0;
                }
                .summary-item {
                    padding: 1rem;
                    margin-bottom: 0.5rem;
                    background: #fafafa;
                    border-left: 4px solid #8d6e63;
                    cursor: pointer;
                    transition: all 0.2s ease;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                }
                .summary-item:hover {
                    background: #efebe9;
                    border-left-color: #5d4037;
                    transform: translateX(5px);
                }
                .summary-item.viewed {
                    border-left-color: #4caf50;
                }
                .summary-item-title {
                    font-weight: 600;
                    color: #3e2723;
                }
                .summary-item-page {
                    font-size: 0.85rem;
                    color: #757575;
                    background: #e0e0e0;
                    padding: 2px 8px;
                    border-radius: 4px;
                }
                .summary-item.viewed .summary-item-page {
                    background: #c8e6c9;
                    color: #2e7d32;
                }

                /* Área de HQ (Correção do Espaço Branco) */
                .comic-scroll-area { 
                    height: 100%; width: 100%; overflow: auto; 
                    background: #212121; /* Fundo escuro para destacar a imagem */
                    display: flex; 
                    /* Centraliza se a imagem for menor, deixa scrollar se for maior */
                    align-items: center; 
                    justify-content: center;
                }
                .comic-img-wrapper { 
                    transition: transform 0.2s ease-out; 
                    transform-origin: center center; /* Zoom a partir do centro */
                    box-shadow: 0 0 30px rgba(0,0,0,0.5); 
                    line-height: 0; /* Remove espaço extra abaixo da imagem */
                }
                .comic-img { 
                    display: block; 
                    max-width: 90vw; /* Garante que caiba na tela inicialmente */
                    max-height: 90vh;
                    height: auto; width: auto; 
                }
                /* Classe para permitir zoom além da tela */
                .comic-zoomed .comic-img {
                    max-width: none;
                    max-height: none;
                }

                /* Quiz Placeholder */
                .quiz-placeholder {
                    display: flex; flex-direction: column; align-items: center; justify-content: center; 
                    height: 100%; color: #8d6e63; gap: 1rem;
                    background-image: radial-gradient(#efebe9 1px, transparent 1px);
                    background-size: 20px 20px;
                }
                .quiz-placeholder i { font-size: 3rem; opacity: 0.5; }

                /* Footer */
                .study-footer { 
                    background: #fff; 
                    border-top: 1px solid #efebe9; 
                    padding: 1rem 2rem; 
                    display: flex; justify-content: space-between; align-items: center; 
                    flex-shrink: 0; 
                    box-shadow: 0 -2px 10px rgba(0,0,0,0.03);
                }
                .nav-btn { 
                    background: #3e2723; color: #fff; border: none; 
                    padding: 0.7rem 1.5rem; border-radius: 6px; 
                    font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 10px; 
                    transition: background 0.2s;
                    box-shadow: 0 2px 5px rgba(62, 39, 35, 0.3);
                }
                .nav-btn:hover { background: #5d4037; transform: translateY(-1px); }
                .nav-btn:disabled { background: #e0e0e0; color: #9e9e9e; cursor: not-allowed; box-shadow: none; transform: none; }
                
                .nav-btn.secondary { 
                    background: #fff; border: 1px solid #d7ccc8; color: #5d4037; 
                    box-shadow: none;
                }
                .nav-btn.secondary:hover { background: #efebe9; border-color: #a1887f; }

                @media (max-width: 600px) { 
                    .text-content { padding: 1.5rem; } 
                    .study-header { padding: 0.5rem 1rem; flex-direction: column; gap: 10px; } 
                    .header-left { width: 100%; justify-content: flex-start; } 
                    .header-tabs { width: 100%; justify-content: space-between; }
                    .tab-btn { flex: 1; text-align: center; }
                    .study-toolbar { gap: 1rem; overflow-x: auto; justify-content: flex-start; }
                }
            &lt;/style>
        `;

        return `
            ${css}
            &lt;div class="study-module-root" id="study-root">
                &lt;header class="study-header">
                    &lt;div class="header-left">
                        &lt;img src="${studyData.realImage}" class="header-avatar">
                        &lt;div class="header-title">
                            &lt;h3>${philosopher.name}&lt;/h3>
                            &lt;span class="header-xp">${percentage}% Concluído&lt;/span>
                        &lt;/div>
                    &lt;/div>
                    &lt;div class="header-tabs">
                        &lt;button class="tab-btn" data-tab="summary">Sumário&lt;/button>
                        &lt;button class="tab-btn active" data-tab="theory">Teoria&lt;/button>
                        &lt;button class="tab-btn" data-tab="comic">HQ&lt;/button>
                        &lt;button class="tab-btn" data-tab="quiz">Quiz&lt;/button>
                    &lt;/div>
                &lt;/header>
                &lt;div class="study-toolbar" id="study-toolbar">&lt;/div>
                &lt;main class="study-viewport" id="study-viewport">&lt;/main>
                &lt;footer class="study-footer" id="study-footer">
                    &lt;button class="nav-btn secondary" id="btn-prev">&lt;i class="fas fa-arrow-left">&lt;/i> Anterior&lt;/button>
                    &lt;span id="page-indicator" style="font-family:'Cinzel', serif; font-weight:700; color:#5d4037; font-size: 0.9rem;">Página 1&lt;/span>
                    &lt;button class="nav-btn" id="btn-next">Próxima &lt;i class="fas fa-arrow-right">&lt;/i>&lt;/button>
                &lt;/footer>
            &lt;/div>
        `;
    },

    /**
     * Configura os event listeners para o popup.
     */
    setupListeners: (element, data, popupManager) => {
        const philosopherId = data.philosopherId;
        const root = element.querySelector('#study-root');
        if (!root) return;

        const studyData = STUDY_CONTENT_DATA[philosopherId];
        const viewport = root.querySelector('#study-viewport');
        const toolbar = root.querySelector('#study-toolbar');

        let state = {
            tab: 'theory',
            textPage: 1,
            comicIndex: 0,
            textSize: 18, // Tamanho base aumentado para melhor leitura
            fontFamily: 'serif',
            zoomLevel: 1.0
        };

        const renderTheoryToolbar = () => {
            toolbar.innerHTML = `
                &lt;div class="tool-group">
                    &lt;span class="tool-label">Fonte&lt;/span>
                    &lt;button class="tool-btn" id="cmd-font-serif" title="Serifa" style="font-family:'Merriweather', serif; font-weight:bold;">T&lt;/button>
                    &lt;button class="tool-btn" id="cmd-font-sans" title="Sem Serifa" style="font-family:'Lato', sans-serif;">T&lt;/button>
                &lt;/div>
                &lt;div class="tool-group" style="margin-left: 15px; border-left: 1px solid #eee; padding-left: 15px;">
                    &lt;span class="tool-label">Tamanho&lt;/span>
                    &lt;button class="tool-btn" id="cmd-size-down">&lt;i class="fas fa-minus">&lt;/i>&lt;/button>
                    &lt;span class="tool-label" id="lbl-size" style="min-width: 40px; text-align: center;">${state.textSize}px&lt;/span>
                    &lt;button class="tool-btn" id="cmd-size-up">&lt;i class="fas fa-plus">&lt;/i>&lt;/button>
                &lt;/div>
            `;
            root.querySelector('#cmd-font-serif').onclick = () => { state.fontFamily = 'serif'; updateTextStyle(); };
            root.querySelector('#cmd-font-sans').onclick = () => { state.fontFamily = 'sans'; updateTextStyle(); };
            root.querySelector('#cmd-size-up').onclick = () => { if (state.textSize &lt; 28) state.textSize += 2; updateTextStyle(); };
            root.querySelector('#cmd-size-down').onclick = () => { if (state.textSize > 14) state.textSize -= 2; updateTextStyle(); };
            updateTextStyle(); // Aplica o estado visual aos botões
        };

        const renderComicToolbar = () => {
            toolbar.innerHTML = `
                &lt;div class="tool-group">
                    &lt;span class="tool-label">Zoom&lt;/span>
                    &lt;button class="tool-btn" id="cmd-zoom-out">&lt;i class="fas fa-search-minus">&lt;/i>&lt;/button>
                    &lt;span class="tool-label" id="lbl-zoom" style="min-width: 50px; text-align: center;">${Math.round(state.zoomLevel * 100)}%&lt;/span>
                    &lt;button class="tool-btn" id="cmd-zoom-in">&lt;i class="fas fa-search-plus">&lt;/i>&lt;/button>
                    &lt;button class="tool-btn" id="cmd-zoom-reset" title="Ajustar à Tela" style="margin-left: 10px;">&lt;i class="fas fa-expand">&lt;/i>&lt;/button>
                &lt;/div>
            `;
            root.querySelector('#cmd-zoom-in').onclick = () => { if (state.zoomLevel &lt; 3.0) state.zoomLevel += 0.25; updateComicZoom(); };
            root.querySelector('#cmd-zoom-out').onclick = () => { if (state.zoomLevel > 0.5) state.zoomLevel -= 0.25; updateComicZoom(); };
            root.querySelector('#cmd-zoom-reset').onclick = () => { state.zoomLevel = 1.0; updateComicZoom(); };
        };

        const updateTextStyle = () => {
            const textContent = root.querySelector('.text-content');
            const label = root.querySelector('#lbl-size');
            const btnSerif = root.querySelector('#cmd-font-serif');
            const btnSans = root.querySelector('#cmd-font-sans');

            if (textContent &amp;&amp; label) {
                textContent.style.fontSize = `${state.textSize}px`;
                textContent.style.fontFamily = state.fontFamily === 'serif' ? "'Merriweather', serif" : "'Lato', sans-serif";
                label.textContent = `${state.textSize}px`;

                // Visual feedback nos botões
                if (btnSerif &amp;&amp; btnSans) {
                    btnSerif.style.background = state.fontFamily === 'serif' ? '#efebe9' : 'transparent';
                    btnSerif.style.borderColor = state.fontFamily === 'serif' ? '#d7ccc8' : '#e0e0e0';
                    btnSans.style.background = state.fontFamily === 'sans' ? '#efebe9' : 'transparent';
                    btnSans.style.borderColor = state.fontFamily === 'sans' ? '#d7ccc8' : '#e0e0e0';
                }
            }
        };

        const updateComicZoom = () => {
            const imgWrapper = root.querySelector('.comic-img-wrapper');
            const img = root.querySelector('.comic-img');
            const label = root.querySelector('#lbl-zoom');

            if (imgWrapper &amp;&amp; label &amp;&amp; img) {
                if (state.zoomLevel === 1.0) {
                    imgWrapper.classList.remove('comic-zoomed');
                    imgWrapper.style.transform = `scale(1)`;
                    // Volta ao alinhamento centralizado e resetado
                    imgWrapper.parentElement.style.alignItems = 'center';
                    imgWrapper.parentElement.style.justifyContent = 'center';
                } else {
                    imgWrapper.classList.add('comic-zoomed');
                    imgWrapper.style.transform = `scale(${state.zoomLevel})`;

                    // Se estiver com muito zoom, muda o alinhamento para permitir scrollar tudo
                    if (state.zoomLevel > 1) {
                        imgWrapper.parentElement.style.alignItems = 'flex-start';
                        imgWrapper.parentElement.style.justifyContent = 'flex-start';
                        // Margem para compensar o scale origin que pode cortar o topo
                        const offset = (state.zoomLevel - 1) * 10;
                        imgWrapper.style.margin = `${offset}rem auto`;
                    }
                }
                label.textContent = `${Math.round(state.zoomLevel * 100)}%`;
            }
        };

        const renderContent = () => {
            const footer = root.querySelector('#study-footer');
            const pageInd = root.querySelector('#page-indicator');
            const btnPrev = root.querySelector('#btn-prev');
            const btnNext = root.querySelector('#btn-next');

            if (state.tab === 'summary') {
                toolbar.style.display = 'none';
                footer.style.display = 'none';

                // Gera lista de páginas com títulos
                const summaryItems = Object.entries(studyData.tableOfContents || {})
                    .map(([pageNum, title]) => {
                        const isViewed = gameState.studyProgress[philosopherId].pagesViewed.has(parseInt(pageNum));
                        return `
                            &lt;li class="summary-item ${isViewed ? 'viewed' : ''}" data-page="${pageNum}">
                                &lt;span class="summary-item-title">${title}&lt;/span>
                                &lt;span class="summary-item-page">Página ${pageNum}&lt;/span>
                            &lt;/li>
                        `;
                    })
                    .join('');

                viewport.innerHTML = `
                    &lt;div class="summary-container">
                        &lt;div class="summary-content animate__animated animate__fadeIn">
                            &lt;h2>&lt;i class="fas fa-list">&lt;/i> Sumário do Estudo&lt;/h2>
                            &lt;ul class="summary-list">
                                ${summaryItems}
                            &lt;/ul>
                        &lt;/div>
                    &lt;/div>
                `;

                // Adiciona listeners para navegar ao clicar em um item
                viewport.querySelectorAll('.summary-item').forEach(item => {
                    item.addEventListener('click', () => {
                        const pageNum = parseInt(item.dataset.page);
                        state.tab = 'theory';
                        state.textPage = pageNum;

                        // Atualiza as abas
                        root.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                        root.querySelector('[data-tab="theory"]').classList.add('active');

                        renderContent();
                    });
                });

            } else if (state.tab === 'theory') {
                renderTheoryToolbar();
                footer.style.display = 'flex';
                toolbar.style.display = 'flex';
                const html = studyData.pages[state.textPage];
                // Wrapper adicionado para centralizar o texto e dar margem
                viewport.innerHTML = `
                    &lt;div class="text-scroll-area">
                        &lt;div class="text-content-wrapper">
                            &lt;div class="text-content animate__animated animate__fadeIn">
                                ${html}
                            &lt;/div>
                        &lt;/div>
                    &lt;/div>`;
                updateTextStyle();
                pageInd.textContent = `PÁGINA ${state.textPage} / ${studyData.totalPages}`;
                btnPrev.disabled = state.textPage === 1;
                btnNext.innerHTML = state.textPage === studyData.totalPages ? 'Concluir' : 'Próxima &lt;i class="fas fa-arrow-right">&lt;/i>';
                gameState.studyProgress[philosopherId].pagesViewed.add(state.textPage);

            } else if (state.tab === 'comic') {
                renderComicToolbar();
                footer.style.display = 'flex';
                toolbar.style.display = 'flex';
                const comics = studyData.comic || [];
                if (comics.length > 0) {
                    viewport.innerHTML = `
                        &lt;div class="comic-scroll-area">
                            &lt;div class="comic-img-wrapper animate__animated animate__fadeIn">
                                &lt;img src="${comics[state.comicIndex]}" class="comic-img" alt="HQ">
                            &lt;/div>
                        &lt;/div>`;
                    state.zoomLevel = 1.0;
                    // updateComicZoom não é necessário chamar aqui pois o render reseta o HTML,
                    // mas podemos chamar para garantir estado inicial
                } else {
                    viewport.innerHTML = '&lt;div style="padding:2rem; text-align:center; color:#fff;">Nenhuma HQ disponível.&lt;/div>';
                }
                pageInd.textContent = `QUADRO ${state.comicIndex + 1} / ${comics.length}`;
                btnPrev.disabled = state.comicIndex === 0;
                btnNext.innerHTML = state.comicIndex === comics.length - 1 ? 'Fim' : 'Próxima &lt;i class="fas fa-arrow-right">&lt;/i>';

            } else {
                // Quiz Placeholder mais bonito
                toolbar.style.display = 'none';
                footer.style.display = 'none';
                viewport.innerHTML = `
                    &lt;div class="quiz-placeholder animate__animated animate__fadeIn">
                        &lt;i class="fas fa-scroll">&lt;/i>
                        &lt;h3>O Teste do Conhecimento&lt;/h3>
                        &lt;p>O quiz estará disponível após a leitura completa.&lt;/p>
                        &lt;span style="font-size: 0.8rem; background: #e0e0e0; padding: 4px 10px; border-radius: 4px;">Em Breve&lt;/span>
                    &lt;/div>`;
            }
        };

        // Tab Navigation
        root.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                root.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                state.tab = btn.dataset.tab;
                renderContent();
            });
        });

        // Navigation Footer
        root.querySelector('#btn-prev').addEventListener('click', () => {
            if (state.tab === 'theory' &amp;&amp; state.textPage > 1) {
                state.textPage--; renderContent();
                // Scroll to top
                const scrollArea = root.querySelector('.text-scroll-area');
                if (scrollArea) scrollArea.scrollTop = 0;
            }
            else if (state.tab === 'comic' &amp;&amp; state.comicIndex > 0) {
                state.comicIndex--;
                renderContent();
                // Scroll to top for comic
                const comicScrollArea = root.querySelector('.comic-scroll-area');
                if (comicScrollArea) {
                    comicScrollArea.scrollTop = 0;
                    comicScrollArea.scrollLeft = 0;
                }
            }
        });

        root.querySelector('#btn-next').addEventListener('click', () => {
            if (state.tab === 'theory') {
                if (state.textPage &lt; studyData.totalPages) {
                    state.textPage++;
                    renderContent();
                    const scrollArea = root.querySelector('.text-scroll-area');
                    if (scrollArea) scrollArea.scrollTop = 0;
                } else {
                    // Se tiver manager global, fecha
                    if (popupManager) popupManager.close();
                }
            } else if (state.tab === 'comic') {
                const comics = studyData.comic || [];
                if (state.comicIndex &lt; comics.length - 1) {
                    state.comicIndex++;
                    renderContent();
                    // Scroll to top for comic
                    const comicScrollArea = root.querySelector('.comic-scroll-area');
                    if (comicScrollArea) {
                        comicScrollArea.scrollTop = 0;
                        comicScrollArea.scrollLeft = 0;
                    }
                }
            }
        });

        renderContent();
    }
};</code></pre></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><a href="/" class="sidebar-title sidebar-title-anchor">LOGOS Documentation</a><div class="mobile-nav-links"><div class="menu-item navbar-item"><a id="website_link-mobile" href="../index.html" target="_blank">Website</a></div></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-modules"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-Screens_Library.html">Screens/Library</a></div><div class="sidebar-section-children"><a href="module-Screens_Login.html">Screens/Login</a></div><div class="sidebar-section-children"><a href="module-Screens_Philosophers.html">Screens/Philosophers</a></div><div class="sidebar-section-children"><a href="module-Screens_Play.html">Screens/Play</a></div><div class="sidebar-section-children"><a href="module-Screens_Reels.html">Screens/Reels</a></div><div class="sidebar-section-children"><a href="module-Screens_SchoolMembers.html">Screens/SchoolMembers</a></div><div class="sidebar-section-children"><a href="module-Screens_Schools.html">Screens/Schools</a></div><div class="sidebar-section-children"><a href="module-Screens_Shop.html">Screens/Shop</a></div><div class="sidebar-section-children"><a href="module-Screens_Symposium.html">Screens/Symposium</a></div><div class="sidebar-section-children"><a href="module-Services_Auth.html">Services/Auth</a></div><div class="sidebar-section-children"><a href="module-Services_Database.html">Services/Database</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="Card.html">Card</a></div><div class="sidebar-section-children"><a href="Modal.html">Modal</a></div><div class="sidebar-section-children"><a href="Player.html">Player</a></div><div class="sidebar-section-children"><a href="PopupManager.html">PopupManager</a></div><div class="sidebar-section-children"><a href="Toast.html">Toast</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-namespaces"><div>Namespaces</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="AnimationsModule.html">AnimationsModule</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="Data.html">Data</a></div><div class="sidebar-section-children"><a href="EngineModule.html">EngineModule</a></div><div class="sidebar-section-children"><a href="EventsModule.html">EventsModule</a></div><div class="sidebar-section-children"><a href="GameUI.html">GameUI</a></div><div class="sidebar-section-children"><a href="Popups.html">Popups</a></div><div class="sidebar-section-children"><a href="RendererModule.html">RendererModule</a></div><div class="sidebar-section-children"><a href="StateModule.html">StateModule</a></div><div class="sidebar-section-children"><a href="Utils.html">Utils</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#ArenaTimelinePopup">ArenaTimelinePopup</a></div><div class="sidebar-section-children"><a href="global.html#ChestInfoPopup">ChestInfoPopup</a></div><div class="sidebar-section-children"><a href="global.html#ChestRewardsPopup">ChestRewardsPopup</a></div><div class="sidebar-section-children"><a href="global.html#DESKTOP_BREAKPOINT">DESKTOP_BREAKPOINT</a></div><div class="sidebar-section-children"><a href="global.html#FullProfilePopup">FullProfilePopup</a></div><div class="sidebar-section-children"><a href="global.html#LevelXpPopup">LevelXpPopup</a></div><div class="sidebar-section-children"><a href="global.html#PhilosopherDetailsPopup">PhilosopherDetailsPopup</a></div><div class="sidebar-section-children"><a href="global.html#PhilosopherStudyModulePopup">PhilosopherStudyModulePopup</a></div><div class="sidebar-section-children"><a href="global.html#ReelsSettingsPopup">ReelsSettingsPopup</a></div><div class="sidebar-section-children"><a href="global.html#SCHOOLS">SCHOOLS</a></div><div class="sidebar-section-children"><a href="global.html#SettingsPopup">SettingsPopup</a></div><div class="sidebar-section-children"><a href="global.html#TimedChestInfoPopup">TimedChestInfoPopup</a></div><div class="sidebar-section-children"><a href="global.html#handleResize">handleResize</a></div><div class="sidebar-section-children"><a href="global.html#initLayoutManager">initLayoutManager</a></div><div class="sidebar-section-children"><a href="global.html#isDesktopView">isDesktopView</a></div><div class="sidebar-section-children"><a href="global.html#preloadAdjacentImages">preloadAdjacentImages</a></div><div class="sidebar-section-children"><a href="global.html#renderMembers">renderMembers</a></div><div class="sidebar-section-children"><a href="global.html#renderPosts">renderPosts</a></div><div class="sidebar-section-children"><a href="global.html#renderReels">renderReels</a></div><div class="sidebar-section-children"><a href="global.html#setupImageObserver">setupImageObserver</a></div><div class="sidebar-section-children"><a href="global.html#setupReelsObserver">setupReelsObserver</a></div><div class="sidebar-section-children"><a href="global.html#setupZoom">setupZoom</a></div><div class="sidebar-section-children"><a href="global.html#showLikeAnimation">showLikeAnimation</a></div><div class="sidebar-section-children"><a href="global.html#toggleLike">toggleLike</a></div><div class="sidebar-section-children"><a href="global.html#toggleSidebar">toggleSidebar</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script>
    <div style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;">
        <button onclick="var m=document.getElementById('dl-menu'); m.style.display = m.style.display === 'none' ? 'block' : 'none'" 
                style="background: #444; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; box-shadow: 0 2px 5px rgba(0,0,0,0.5);">
            Download Options
        </button>
        <div id="dl-menu" style="display: none; position: absolute; bottom: 100%; right: 0; background: #333; border: 1px solid #555; border-radius: 5px; box-shadow: 0 2px 10px rgba(0,0,0,0.5); min-width: 160px; margin-bottom: 10px; overflow: hidden;">
            <a href="#" onclick="window.print(); return false;" style="display: block; padding: 10px; color: #eee; text-decoration: none; border-bottom: 1px solid #444;">Save as PDF</a>
            <a href="documentation.md" download="LOGOS_Docs.md" style="display: block; padding: 10px; color: #eee; text-decoration: none; border-bottom: 1px solid #444;">Download Markdown</a>
            <a href="data.json" download="LOGOS_Data.json" style="display: block; padding: 10px; color: #eee; text-decoration: none;">Download JSON</a>
        </div>
    </div>
    </body></html>